---
layout: default
---

<article class="chapter-hero">
  <p class="chapter-label">
    {% if page.section_type == "concepts" %}ğŸ“– ç†è®ºç¯‡{% endif %}
    {% if page.section_type == "examples" %}ğŸ’» ä»£ç ç¤ºä¾‹{% endif %}
    {% if page.section_type == "exercises" %}âœï¸ ç»ƒä¹ é¢˜{% endif %}
    {% if page.section_type == "solutions" %}âœ… å‚è€ƒç­”æ¡ˆ{% endif %}
    {% if page.section_type == "setup" %}âš™ï¸ ç¯å¢ƒé…ç½®{% endif %}
    {% if page.section_type == "resources" %}ğŸ“š å­¦ä¹ èµ„æº{% endif %}
    {% unless page.section_type %} ç« èŠ‚ {% endunless %}
  </p>
  <h1>{{ page.title }}</h1>
  {% if page.difficulty %}
    <p class="chapter-meta">
      <span class="chapter-difficulty">éš¾åº¦ï¼š{{ page.difficulty }}</span>
      {% if page.estimated_time %}
        <span class="chapter-time">é¢„è®¡æ—¶é—´ï¼š{{ page.estimated_time }}</span>
      {% endif %}
    </p>
  {% endif %}
  {% if page.summary %}
    <p class="chapter-summary">{{ page.summary }}</p>
  {% endif %}
  {% if page.book %}
    {% assign parent_book = site.books | where: "slug", page.book | first %}
    <p class="chapter-book-link">
      æ”¶å½•äº <a href="{% if parent_book %}{{ parent_book.url }}{% else %}/books/{{ page.book }}/{% endif %}">{{ parent_book.title | default: page.book }}</a>
    </p>
  {% endif %}
</article>

<section class="chapter-body">
  {{ content }}
</section>

{% if page.book %}
  {% assign all_chapters = site.chapters | where: "book", page.book | sort: "order" %}
  {% assign current_index = nil %}
  {% for chapter in all_chapters %}
    {% if chapter.url == page.url %}
      {% assign current_index = forloop.index0 %}
      {% break %}
    {% endif %}
  {% endfor %}

  {% if current_index %}
    <div class="pagination">
      {% if current_index > 0 %}
        {% assign prev_index = current_index | minus: 1 %}
        {% for chapter in all_chapters %}
          {% if forloop.index0 == prev_index %}
            <a href="{{ chapter.url }}" class="pagination-prev">â† ä¸Šä¸€èŠ‚</a>
          {% endif %}
        {% endfor %}
      {% else %}
        <span class="pagination-prev disabled">â† ä¸Šä¸€èŠ‚</span>
      {% endif %}

      <a href="{% if parent_book %}{{ parent_book.url }}{% else %}/books/{{ page.book }}/{% endif %}" class="pagination-info">ç›®å½•</a>

      {% assign next_index = current_index | plus: 1 %}
      {% if next_index < all_chapters.size %}
        {% for chapter in all_chapters %}
          {% if forloop.index0 == next_index %}
            <a href="{{ chapter.url }}" class="pagination-next">ä¸‹ä¸€èŠ‚ â†’</a>
          {% endif %}
        {% endfor %}
      {% else %}
        <span class="pagination-next disabled">ä¸‹ä¸€èŠ‚ â†’</span>
      {% endif %}
    </div>
  {% endif %}
{% endif %}

<style>
  .chapter-hero {
    border: 4px solid #000;
    padding: 2.5rem;
    background: #fff;
    margin-bottom: 3rem;
  }

  .chapter-label {
    font-size: 0.95rem;
    letter-spacing: 0.1em;
    margin-bottom: 1rem;
    opacity: 0.7;
    font-weight: 600;
  }

  .chapter-hero h1 {
    font-size: 2.5rem;
    margin-bottom: 1rem;
    line-height: 1.3;
  }

  .chapter-meta {
    font-size: 0.9rem;
    margin-bottom: 1rem;
    opacity: 0.7;
  }

  .chapter-meta span {
    margin-right: 1.5rem;
  }

  .chapter-summary {
    font-size: 1.1rem;
    line-height: 1.8;
    margin-top: 1rem;
  }

  .chapter-book-link {
    margin-top: 1.5rem;
    font-size: 0.95rem;
  }

  .chapter-book-link a {
    border-bottom: 3px solid #000;
    text-decoration: none;
    font-weight: 600;
  }

  .chapter-body {
    margin-bottom: 4rem;
  }

  /* å¤ç”¨é¦–é¡µ pagination æ ·å¼ */
  .pagination {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 5rem;
    padding: 2rem 0;
    border-top: 4px solid #000;
    border-bottom: 4px solid #000;
  }

  .pagination a,
  .pagination span {
    font-weight: 900;
    letter-spacing: 0.15em;
    font-size: 0.9rem;
  }

  .pagination-prev,
  .pagination-next {
    padding: 1rem 2rem;
    background: #000;
    color: #fff !important;
    text-decoration: none !important;
    border: 3px solid #000;
    transition: background-color 0.2s ease, color 0.2s ease;
    box-sizing: border-box;
    min-width: 150px;
    text-align: center;
    display: inline-block;
  }

  .pagination-prev:hover,
  .pagination-next:hover {
    background: #fff !important;
    color: #000 !important;
    padding: 1rem 2rem;
    border: 3px solid #000;
  }

  .pagination-prev.disabled,
  .pagination-next.disabled {
    background: #fff;
    color: #ccc;
    border: 3px solid #ccc;
    cursor: not-allowed;
    padding: 1rem 2rem;
  }

  .pagination-info {
    padding: 1rem 2rem;
    background: #000;
    color: #fff !important;
    text-decoration: none !important;
    border: 3px solid #000;
    transition: background-color 0.2s ease, color 0.2s ease;
    box-sizing: border-box;
    min-width: 150px;
    text-align: center;
    display: inline-block;
    font-size: 0.9rem;
    font-weight: 900;
    letter-spacing: 0.15em;
  }

  .pagination-info:hover {
    background: #fff !important;
    color: #000 !important;
    padding: 1rem 2rem;
    border: 3px solid #000;
  }

  @media (max-width: 768px) {
    .chapter-hero {
      padding: 2rem;
    }

    .chapter-hero h1 {
      font-size: 1.8rem;
    }

    .pagination {
      flex-direction: column;
      gap: 1rem;
    }

    .pagination-info {
      order: -1;
    }

    .pagination-prev,
    .pagination-next {
      min-width: 100%;
    }
  }
</style>
